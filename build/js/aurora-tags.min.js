/*! aurora-tags v0.0.1 | (c) 2020 Danny Bowen | MIT License | https://github.com/wtfdanny/aurora-tags.git */

function Tags(e){var t,n,r,a,i,u,c=e;function l(){t.innerHTML="",a.forEach(function(e,n){var r,i=document.createElement("li");i.innerHTML=e,i.addEventListener("dblclick",function(){var e;return e=n,a=a.filter(function(t,n){return n!=e&&t}),l(),!1});var u=0;i.addEventListener("touchend",function(e){var t=(new Date).getTime(),n=t-u;clearTimeout(r),n<500&&n>0?e.preventDefault():r=setTimeout(function(){clearTimeout(r)},500),u=t}),t.appendChild(i),c.setAttribute("data-aurora-tags",a.toString())})}r=(r=c.getAttribute("data-aurora-tags")).split(","),a=r.map(function(e){return e.trim()}),i=document.createElement("ul"),document.createElement("li"),u=document.createElement("input"),c.appendChild(i),c.appendChild(u),t=c.firstElementChild,n=c.lastElementChild,l(),n.addEventListener("keyup",function(e){var t=this.value.trim();(t.includes(",")||13==e.keyCode)&&(""!=t.replace(",","")&&a.push(t.replace(",","")),this.value=""),l()})}!function(){var e=document.querySelectorAll(".aurora-tags");(e=Array.from(e)).forEach(function(e,t){new Tags(e)})}();